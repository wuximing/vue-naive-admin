var u=(i,p,n)=>new Promise((d,o)=>{var c=e=>{try{r(n.next(e))}catch(s){o(s)}},l=e=>{try{r(n.throw(e))}catch(s){o(s)}},r=e=>e.done?d(e.value):Promise.resolve(e.value).then(c,l);r((n=n.apply(i,p)).next())});import{_ as w,j as y,m as _,t as x,v as I,o as b,k,s as t,q as K,x as S,y as m,z as g,A as v,p as V,n as $,B,C as q}from"./index.23a10195.js";var L="/vue-naive-admin/assets/login_banner.59ef79d6.png",N="/vue-naive-admin/assets/logo.0f7febd3.svg";const f=i=>(V("data-v-37dfd6fc"),i=i(),$(),i),R={class:"login-page"},T={class:"wrapper"},A=f(()=>t("div",{class:"left"},[t("img",{src:L,height:"380",alt:"login_banner"})],-1)),C={class:"form-wrapper"},D={class:"brand"},U=f(()=>t("img",{src:N,width:"45","mr-15":"",alt:"logo"},null,-1)),j={class:"form-item","mt-35":""},z=["onKeydown"],E={class:"form-item","mt-35":""},M=["onKeydown"],P={setup(i){const p="Vue Naive Admin",n=y(),d=_(n.currentRoute).query,o=x({name:"admin",password:123456}),c=I({prefixKey:"login_"}),l=c.get("loginInfo");l&&(o.value.name=l.name||"",o.value.password=l.password||"");function r(){return u(this,null,function*(){const{name:e,password:s}=o.value;if(!e||!s){$message.warning("\u8BF7\u8F93\u5165\u7528\u6237\u540D\u548C\u5BC6\u7801");return}try{$message.loading("\u6B63\u5728\u9A8C\u8BC1...");const a=yield B({name:e,password:s.toString()});if(a.code===0)if($message.success("\u767B\u5F55\u6210\u529F"),c.set("loginInfo",{name:e,password:s}),q(a.data.token),d.redirect){const h=d.redirect;Reflect.deleteProperty(d,"redirect"),n.push({path:h,query:d})}else n.push("/");else $message.warning(a.message)}catch(a){$message.error(a.message)}})}return(e,s)=>(b(),k("div",R,[t("div",T,[A,t("div",C,[t("h5",D,[U,K(" "+S(_(p)),1)]),t("div",j,[m(t("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>o.value.name=a),autofocus:"",type:"text",class:"input",placeholder:"username",onKeydown:v(r,["enter"])},null,40,z),[[g,o.value.name]])]),t("div",E,[m(t("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>o.value.password=a),type:"password",class:"input",placeholder:"password",onKeydown:v(r,["enter"])},null,40,M),[[g,o.value.password]])]),t("div",{class:"form-item","mt-35":""},[t("button",{class:"submit-btn",onClick:r},"\u767B\u5F55")])])])]))}};var H=w(P,[["__scopeId","data-v-37dfd6fc"]]);export{H as default};
